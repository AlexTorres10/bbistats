{% load static %}
<!DOCTYPE html>

<html>
<head>
    <link rel="stylesheet" type="text/css" href="{% static 'styles.css' %}">
    {% include 'header.html' %}
</head>
<body>
    <style>
        .table-results{
            .table-container {
                display: flex;
            }
        
            .table-wrapper {
                margin-right: 20px;
            }
        
            table {
                border-collapse: collapse;
                width: 250px;
                font-size: 11px; /* Set the font size for table cells */
            }
        
            th{
                border: 1px solid black;
                padding: 4px;
                text-align: left;
            }
        }
        
    </style>
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <nav id="sidebar" class="col-md-3 col-lg-2 d-md-block bg-light sidebar">
                <div class="position-sticky">
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link active" href="/ligas/premier-league">PREMIER LEAGUE</a>
                        </li>
                        <ul class="nav flex-column">
                            {% if league == "Premier League" %}
                            {% for time in times_da_liga %}
                            <li class="nav-item">
                                <a class="nav-link" href="/times/{{ time.url }}" style="font-size: smaller;">{{ time.time }}</a>
                            </li>
                            {% endfor %}
                            {% endif %}
                        </ul>
                        
                        <ul class="nav flex-column">
                            <li class="nav-item">
                                <a class="nav-link active" href="/ligas/championship">CHAMPIONSHIP</a>
                            </li>
                            {% if league == "Championship" %}
                            {% for time in times_da_liga %}
                            <li class="nav-item">
                                <a class="nav-link" href="/times/{{ time.url }}" style="font-size: smaller;">{{ time.time }}</a>
                            </li>
                            {% endfor %}
                            {% endif %}
                        </ul>

                        <ul class="nav flex-column">
                            <li class="nav-item">
                                <a class="nav-link active" href="/ligas/league-one">LEAGUE ONE</a>
                            </li>
                            {% if league == "League One" %}
                            {% for time in times_da_liga %}
                            <li class="nav-item">
                                <a class="nav-link" href="/times/{{ time.url }}" style="font-size: smaller;">{{ time.time }}</a>
                            </li>
                            {% endfor %}
                            {% endif %}
                        </ul>

                        <ul class="nav flex-column">
                            <li class="nav-item">
                                <a class="nav-link active" href="/ligas/league-two">LEAGUE TWO</a>
                            </li>
                            {% if league == "League Two" %}
                            {% for time in times_da_liga %}
                            <li class="nav-item">
                                <a class="nav-link" href="/times/{{ time.url }}" style="font-size: smaller;">{{ time.time }}</a>
                            </li>
                            {% endfor %}
                            {% endif %}
                        </ul>

                        <ul class="nav flex-column">
                            <li class="nav-item">
                                <a class="nav-link active" href="/ligas/national-league">NATIONAL LEAGUE</a>
                            </li>
                            {% if league == "National League" %}
                            {% for time in times_da_liga %}
                            <li class="nav-item">
                                <a class="nav-link" href="/times/{{ time.url }}" style="font-size: smaller;">{{ time.time }}</a>
                            </li>
                            {% endfor %}
                            {% endif %}
                        </ul>
                        </ul>
                    </ul>
                </div>
            </nav>

            <!-- Main content area -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <h1>Times da {{ league }}</h1>
                <div class="container">
                    <div class="row">
                        {% for time in times_da_liga %}
                        <div class="col-md-3 mb-4">
                            <div class="crest-container">
                                <a href="/times/{{ time.url }}">
                                    <img src="/static/escudos/{{ time.time }}.png" alt="{{ time.time }}" class="club-crest img-fluid">
                                </a>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                <div class="container">
                    
                    <div class="row">
                        <div class="col-md-6">
                            <h3>Tabela da {{ league }}</h3>
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Pos.</th>
                                        <th></th>
                                        <th>Time</th>
                                        <th>J</th>
                                        <th>V</th>
                                        <th>E</th>
                                        <th>D</th>
                                        <th>GM</th>
                                        <th>GS</th>
                                        <th>SG</th>
                                        <th>Pts</th>
                                    </tr>
                                </thead>
                                <tbody>
                                {% for index, row in tabela_liga.iterrows %}
                                <tr>
                                    <td>{{row.Pos}}</td>
                                    <td style="text-align: center; vertical-align: middle;" ><a href="/times/{{ row.url }}" ><img src="/static/escudos/{{ row.Time }}.png" alt="{{ row.Time }} Crest" height="30px"></a></td>
                                    <td><a href="/times/{{ row.url }}" style="color: inherit; text-decoration: none;">{{ row.Time }}</a></td>
                                    <td>{{ row.J }}</td>
                                    <td>{{ row.V }}</td>
                                    <td>{{ row.E }}</td>
                                    <td>{{ row.D }}</td>
                                    <td>{{ row.GM }}</td>
                                    <td>{{ row.GS }}</td>
                                    <td>{{ row.SG }}</td>
                                    <td>{{ row.Pts }}</td>
                                </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                        </div>
                        <div class="col-md-6">
                            <h3>Tabela da {{ league }} - Casa</h3>
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Pos.</th>
                                        <th></th>
                                        <th>Time</th>
                                        <th>J</th>
                                        <th>V</th>
                                        <th>E</th>
                                        <th>D</th>
                                        <th>GM</th>
                                        <th>GS</th>
                                        <th>SG</th>
                                        <th>Pts</th>
                                    </tr>
                                </thead>
                                <tbody>
                                {% for index, row in tabela_home.iterrows %}
                                <tr>
                                    <td>{{row.Pos}}</td>
                                    <td style="text-align: center; vertical-align: middle;" ><a href="/times/{{ row.url }}"><img src="/static/escudos/{{ row.Time }}.png" alt="{{ row.Time }} Crest" height="30px"></a></td>
                                    <td><a href="/times/{{ row.url }}" style="color: inherit; text-decoration: none;">{{ row.Time }}</a></td>
                                    <td>{{ row.J }}</td>
                                    <td>{{ row.V }}</td>
                                    <td>{{ row.E }}</td>
                                    <td>{{ row.D }}</td>
                                    <td>{{ row.GM }}</td>
                                    <td>{{ row.GS }}</td>
                                    <td>{{ row.SG }}</td>
                                    <td>{{ row.Pts }}</td>
                                </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                        </div>
                        <div class="col-md-6">
                            <h3>Tabela da {{ league }} - Visitante</h3>
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Pos.</th>
                                        <th></th>
                                        <th>Time</th>
                                        <th>J</th>
                                        <th>V</th>
                                        <th>E</th>
                                        <th>D</th>
                                        <th>GM</th>
                                        <th>GS</th>
                                        <th>SG</th>
                                        <th>Pts</th>
                                    </tr>
                                </thead>
                                <tbody>
                                {% for index, row in tabela_away.iterrows %}
                                <tr>
                                    <td>{{row.Pos}}</td>
                                    <td style="text-align: center; vertical-align: middle;" ><a href="/times/{{ row.url }}"><img src="/static/escudos/{{ row.Time }}.png" alt="{{ row.Time }} Crest" height="30px"></a></td>
                                    <td><a href="/times/{{ row.url }}" style="color: inherit; text-decoration: none;">{{ row.Time }}</a></td>
                                    <td>{{ row.J }}</td>
                                    <td>{{ row.V }}</td>
                                    <td>{{ row.E }}</td>
                                    <td>{{ row.D }}</td>
                                    <td>{{ row.GM }}</td>
                                    <td>{{ row.GS }}</td>
                                    <td>{{ row.SG }}</td>
                                    <td>{{ row.Pts }}</td>
                                </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                        </div>
                        <div class="col-md-6">
                            <h3>Estatísticas</h3>
                    
                            <ul>
                                {% for fact in stats %}
                                    <li>{{ fact }}</li>
                                {% empty %}
                                    <li>Sem estatísticas relevantes.</li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
            </main>
        </div>
    </div>
</body>
</html>